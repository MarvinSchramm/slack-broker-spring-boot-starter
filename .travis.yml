language: java

jdk:
  - oraclejdk8

os:
  - linux

branches:
  only:
    - master

cache:
  directories:
    - $HOME/.gradle

jobs:
  include:
  - stage: test
    script: ./gradlew check test --info
  - script: ./gradlew sonarqube \
      -Dsonar.login=$SONAR_TOKEN